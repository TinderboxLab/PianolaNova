!function(a){function b(a,b){if(!a)throw new Error("No AudioContext provided");if(!b)throw new Error("No Canvas provided");this.ac=a,this.canvas=b,this.ctx=b.getContext("2d"),this.width=b.width,this.height=b.height,this.input=a.createGain(),this.analyzer=a.createAnalyser(),this.analyzer.fftSize=2048,this.input.connect(this.analyzer),this.freqData=new Uint8Array(this.analyzer.frequencyBinCount),this.rAF=null,this.strokeStyle="#6cf",this.sensitivity=42}b.prototype.findZeroCrossing=function(a,b){for(var c,d=0,e=-1,f=128*this.sensitivity/100+128;b>d&&a[d]>128;)d++;if(d>=b)return 0;for(;b>d&&(c=a[d])<f;)e=c>=128?-1===e?d:e:-1,d++;return e=0>e?d:e,d===b?0:e},b.prototype.start=function(){return this.rAF=requestAnimationFrame(this.draw.bind(this)),this},b.prototype.stop=function(){return cancelAnimationFrame(this.rAF),this.rAF=null,this},b.prototype.draw=function(){var a,b=this.freqData.length,c=this.height/256/2,d=j=50;for(this.ctx.fillStyle="#002233",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.lineWidth=0,this.ctx.strokeStyle="rgba(60,180,220,0.05)",this.ctx.beginPath();d<this.width;d+=50)for(this.ctx.moveTo(d,0),this.ctx.lineTo(d,this.height),j=0;j<this.height;j+=50)this.ctx.moveTo(0,j),this.ctx.lineTo(this.width,j);for(this.ctx.stroke(),this.ctx.strokeStyle="rgba(60,180,220,0.22)",this.ctx.beginPath(),this.ctx.moveTo(0,this.height/2),this.ctx.lineTo(this.width,this.height/2),this.ctx.stroke(),this.analyzer.getByteTimeDomainData(this.freqData),d=this.findZeroCrossing(this.freqData,this.width),this.ctx.lineWidth=2.5,this.ctx.strokeStyle=this.strokeStyle,this.ctx.beginPath(),this.ctx.moveTo(0,(256-this.freqData[d])*c+this.height/4),j=0;b>d&&j<this.width;d++,j++)a=(256-this.freqData[d])*c+this.height/4,this.ctx.lineTo(j,a);return this.ctx.stroke(),this.rAF=requestAnimationFrame(this.draw.bind(this)),this},a.Scope=b}("undefined"!=typeof window?window:this);
//# sourceMappingURL=Scope.min.js.map